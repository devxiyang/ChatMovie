@tailwind base;
@tailwind components;
@tailwind utilities;

/* 自定义色彩变量 */
:root {
  --color-primary: #3a86ff;
  --color-primary-dark: #2563eb;
  --color-bg: #121726;
  --color-card: #1a2238;
  --color-surface: #1e293b;
  --color-text: #ffffff;
  --color-text-secondary: #94a3b8;
  --color-border: #334155;
  --gradient-spotlight: radial-gradient(circle at 50% 50%, rgba(229, 9, 20, 0.15), transparent 70%);
}

/* 基础样式重置 */
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

@layer base {
  body {
    @apply bg-[var(--color-bg)] text-[var(--color-text)];
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
  }
}

@layer components {
  .container-custom {
    @apply w-full max-w-[1280px] mx-auto px-4;
  }
  
  .navbar {
    @apply fixed top-0 left-0 right-0 z-50 backdrop-blur-md bg-[var(--color-bg)]/80;
  }
  
  .nav-item {
    @apply px-4 py-2 rounded-full transition-colors duration-200 hover:bg-white/10;
  }
  
  .nav-item.active {
    @apply bg-white/10;
  }
  
  .movie-grid {
    @apply grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-6 gap-4;
  }

  .category-scroller {
    @apply flex overflow-x-auto py-4 gap-2 scrollbar-hide;
  }
  
  .category-item {
    @apply px-4 py-2 rounded-full text-sm whitespace-nowrap bg-[var(--color-surface)] 
           transition-all duration-200 hover:bg-white/20 flex items-center gap-2;
  }
  
  .category-item.active {
    @apply bg-white/20;
  }

  .movie-card {
    @apply relative aspect-[2/3] rounded-xl overflow-hidden transition-all duration-300 
           hover:scale-105 hover:shadow-xl hover:shadow-black/30 cursor-pointer;
  }

  .movie-card::after {
    content: '';
    @apply absolute inset-0 bg-gradient-to-t from-black/70 via-black/20 to-transparent opacity-0 transition-opacity duration-300;
  }

  .movie-card:hover::after {
    @apply opacity-100;
  }

  .movie-info {
    @apply absolute bottom-0 left-0 right-0 p-4 transform translate-y-full transition-transform duration-300 z-10;
  }

  .movie-card:hover .movie-info {
    @apply translate-y-0;
  }
  
  .mood-grid {
    @apply grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 xl:grid-cols-9 gap-4 md:gap-6;
  }

  .mood-card {
    @apply flex items-center rounded-full px-4 py-2 bg-[var(--color-surface)] 
           transition-all duration-200 hover:bg-white/20 cursor-pointer;
  }

  .mood-card.active {
    @apply bg-white/30;
  }

  .mood-emoji {
    @apply text-xl mr-2;
  }

  .mood-title {
    @apply text-sm font-medium whitespace-nowrap;
  }

  .carousel-section {
    @apply relative mb-8;
  }

  .carousel-container {
    @apply relative aspect-[21/9] w-full overflow-hidden rounded-xl shadow-lg;
  }

  .carousel-slide {
    @apply absolute inset-0 transition-opacity duration-700;
  }

  .carousel-content {
    @apply absolute bottom-0 left-0 right-0 p-6 md:p-10 bg-gradient-to-t from-black via-black/70 to-transparent;
  }

  .section-title {
    @apply text-xl md:text-2xl font-bold mb-4 flex items-center;
  }

  .section-title::before {
    content: '';
    @apply inline-block w-1 h-6 bg-[var(--color-primary)] rounded mr-2;
  }

  .rating-badge {
    @apply inline-flex items-center px-2 py-1 rounded bg-[var(--color-primary)] text-white text-xs font-medium;
  }
  
  .primary-button {
    @apply bg-[var(--color-primary)] text-white px-4 py-2 rounded-lg
           transition-colors duration-300 hover:bg-[var(--color-primary-dark)];
  }
}

/* 自定义滚动条 */
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}

::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: rgba(255, 255, 255, 0.05);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.2);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: rgba(255, 255, 255, 0.3);
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

@keyframes slideUp {
  from { transform: translateY(20px); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

.fade-in {
  animation: fadeIn 0.5s ease-out;
}

.slide-up {
  animation: slideUp 0.5s ease-out;
}

/* 电影胶片效果 */
.movie-grain {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  opacity: 0.05;
  z-index: 1000;
  pointer-events: none;
  background-image: url('data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIzMDAiIGhlaWdodD0iMzAwIj48ZmlsdGVyIGlkPSJhIiB4PSIwIiB5PSIwIj48ZmVUdXJidWxlbmNlIGJhc2VGcmVxdWVuY3k9Ii43NSIgc3RpdGNoVGlsZXM9InN0aXRjaCIgdHlwZT0iZnJhY3RhbE5vaXNlIi8+PGZlQ29sb3JNYXRyaXggdHlwZT0ic2F0dXJhdGUiIHZhbHVlcz0iMCIvPjwvZmlsdGVyPjxwYXRoIGQ9Ik0wIDBoMzAwdjMwMEgweiIgZmlsdGVyPSJ1cmwoI2EpIiBvcGFjaXR5PSIuMDUiLz48L3N2Zz4=');
  animation: grain 8s steps(10) infinite;
}

@keyframes grain {
  0%, 100% { transform: translate(0, 0); }
  10% { transform: translate(-5%, -5%); }
  20% { transform: translate(-10%, 5%); }
  30% { transform: translate(5%, -10%); }
  40% { transform: translate(-5%, 15%); }
  50% { transform: translate(-10%, 5%); }
  60% { transform: translate(15%, 0%); }
  70% { transform: translate(0%, 10%); }
  80% { transform: translate(-15%, 0%); }
  90% { transform: translate(10%, 5%); }
}

/* 电影胶片穿孔 */
.film-perforations {
  position: absolute;
  top: 0;
  bottom: 0;
  width: 18px;
  background-color: #000;
  z-index: 50;
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  padding: 8px 0;
}

.film-perforations.left {
  left: 0;
  border-right: 1px solid #333;
}

.film-perforations.right {
  right: 0;
  border-left: 1px solid #333;
}

.film-hole {
  width: 12px;
  height: 8px;
  margin: 0 auto;
  background-color: transparent;
  border: 1px solid #444;
  border-radius: 1px;
}

/* 精美按钮样式 */
.cinema-button {
  background-color: var(--color-primary);
  color: white;
  border: none;
  border-radius: 4px;
  padding: 0.6rem 1.2rem;
  font-weight: 600;
  transition: all 0.2s ease;
  cursor: pointer;
  position: relative;
  overflow: hidden;
}

.cinema-button::before {
  content: '';
  position: absolute;
  top: 0;
  left: -100%;
  width: 100%;
  height: 100%;
  background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
  animation: spotlight 2s infinite;
}

.cinema-button:hover {
  background-color: var(--color-primary-dark);
  transform: translateY(-2px);
  box-shadow: 0 4px 12px rgba(229, 9, 20, 0.5);
}

/* 精美卡片样式 */
.cinema-card {
  background-color: var(--color-card);
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
  position: relative;
}

.cinema-card:hover {
  transform: translateY(-10px) scale(1.02);
  box-shadow: 0 20px 40px -5px rgba(0, 0, 0, 0.4);
}

.cinema-card::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: linear-gradient(to bottom, transparent 70%, rgba(0, 0, 0, 0.8) 100%);
  pointer-events: none;
}

/* 轮播图增强样式 */
.hero-carousel {
  position: relative;
  width: 100%;
  height: 70vh;
  min-height: 400px;
  max-height: 600px;
  overflow: hidden;
}

.hero-slide {
  position: absolute;
  inset: 0;
  opacity: 0;
  transition: opacity 1.5s ease, transform 1.5s ease;
  transform: scale(1.05);
}

.hero-slide.active {
  opacity: 1;
  transform: scale(1);
  z-index: 1;
}

.hero-content {
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
  padding: 2rem;
  padding-bottom: 4rem;
  background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.6) 50%, transparent 100%);
  z-index: 10;
  transform: translateY(20px);
  opacity: 0;
  transition: all 0.8s ease;
}

.hero-slide.active .hero-content {
  transform: translateY(0);
  opacity: 1;
  transition-delay: 0.5s;
}

.hero-title {
  font-size: 3rem;
  font-weight: 800;
  margin-bottom: 0.5rem;
  text-shadow: 0 2px 10px rgba(0, 0, 0, 0.8);
}

.hero-description {
  font-size: 1rem;
  max-width: 600px;
  margin-bottom: 1.5rem;
  color: var(--color-text-secondary);
}

/* 心情选择器增强样式 */
.mood-container {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
  gap: 1.5rem;
  padding: 1.5rem 0;
}

.mood-item {
  position: relative;
  aspect-ratio: 1/1;
  background-color: var(--color-card);
  border-radius: 12px;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  padding: 1.5rem;
  cursor: pointer;
  overflow: hidden;
  transition: all 0.3s cubic-bezier(0.2, 0.8, 0.2, 1);
  border: 2px solid transparent;
}

.mood-item:hover {
  transform: translateY(-8px);
  box-shadow: 0 10px 30px -5px rgba(0, 0, 0, 0.5);
  border-color: var(--color-primary);
}

.mood-item.selected {
  border-color: var(--color-primary);
  background-color: rgba(229, 9, 20, 0.1);
}

.mood-emoji {
  font-size: 3rem;
  margin-bottom: 1rem;
  transition: transform 0.3s ease;
}

.mood-item:hover .mood-emoji {
  transform: scale(1.2);
}

.mood-label {
  font-weight: 600;
  font-size: 1.1rem;
  text-align: center;
}

/* 电影网格增强样式 */
.movie-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
  gap: 1.5rem;
  padding: 1.5rem 0;
}

@media (max-width: 640px) {
  .movie-grid {
    grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
    gap: 1rem;
  }
  
  .hero-carousel {
    height: 50vh;
  }
  
  .hero-title {
    font-size: 1.8rem;
  }
}

/* 电影卡片增强样式 */
.movie-card {
  position: relative;
  aspect-ratio: 2/3;
  border-radius: 8px;
  overflow: hidden;
  box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3);
  transition: all 0.3s ease;
}

.movie-card:hover {
  transform: translateY(-10px);
  box-shadow: 0 12px 30px rgba(0, 0, 0, 0.4);
}

.movie-title {
  font-weight: 600;
  font-size: 0.9rem;
  margin-bottom: 0.5rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.movie-meta {
  display: flex;
  font-size: 0.8rem;
  color: var(--color-text-secondary);
}

.movie-rating {
  margin-right: 0.5rem;
  color: var(--color-primary);
  font-weight: 600;
}

/* 页面过渡动画 */
.page-transition {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background-color: black;
  z-index: 9999;
  transform: translateY(-100%);
  transition: transform 0.5s cubic-bezier(0.7, 0, 0.3, 1);
}

.page-transition.active {
  transform: translateY(0);
}
